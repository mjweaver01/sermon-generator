// Emoji mapping for common emojis
const emojiMap: Record<string, string> = {
  smile: 'ğŸ˜Š',
  heart: 'â¤ï¸',
  thumbsup: 'ğŸ‘',
  thumbsdown: 'ğŸ‘',
  fire: 'ğŸ”¥',
  star: 'â­',
  check: 'âœ…',
  cross: 'âŒ',
  warning: 'âš ï¸',
  info: 'â„¹ï¸',
  question: 'â“',
  exclamation: 'â—',
  pray: 'ğŸ™',
  bible: 'ğŸ“–',
  church: 'â›ª',
  cross_symbol: 'âœï¸',
  dove: 'ğŸ•Šï¸',
  light: 'ğŸ’¡',
  love: 'ğŸ’•',
  peace: 'â˜®ï¸',
  hope: 'ğŸŒŸ',
  faith: 'âœ¨',
  joy: 'ğŸ˜„',
  praise: 'ğŸ™Œ',
  worship: 'ğŸ›',
  blessed: 'ğŸ˜‡',
  angel: 'ğŸ‘¼',
  crown: 'ğŸ‘‘',
  book: 'ğŸ“š',
  scroll: 'ğŸ“œ',
  candle: 'ğŸ•¯ï¸',
  flame: 'ğŸ”¥',
  shepherd: 'ğŸ‘',
  fish: 'ğŸŸ',
  bread: 'ğŸ',
  wine: 'ğŸ·',
  rainbow: 'ğŸŒˆ',
  mountain: 'â›°ï¸',
  sun: 'â˜€ï¸',
  moon: 'ğŸŒ™',
  wave: 'ğŸ‘‹',
  hands: 'ğŸ¤²',
  handshake: 'ğŸ¤',
  hug: 'ğŸ¤—',
  clap: 'ğŸ‘',
  muscle: 'ğŸ’ª',
  ear: 'ğŸ‘‚',
  eye: 'ğŸ‘ï¸',
  lips: 'ğŸ‘„',
  footsteps: 'ğŸ‘£',
  path: 'ğŸ›¤ï¸',
  door: 'ğŸšª',
  key: 'ğŸ—ï¸',
  gift: 'ğŸ',
  tree: 'ğŸŒ³',
  flower: 'ğŸŒ¸',
  rose: 'ğŸŒ¹',
  tulip: 'ğŸŒ·',
  seed: 'ğŸŒ±',
  fruit: 'ğŸ‡',
  water: 'ğŸ’§',
  rock: 'ğŸª¨',
  diamond: 'ğŸ’',
  gold: 'ğŸ¥‡',
  silver: 'ğŸ¥ˆ',
  bronze: 'ğŸ¥‰',
  trophy: 'ğŸ†',
  medal: 'ğŸ…',
  flag: 'ğŸ³ï¸',
  home: 'ğŸ ',
  family: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦',
  baby: 'ğŸ‘¶',
  child: 'ğŸ§’',
  man: 'ğŸ‘¨',
  woman: 'ğŸ‘©',
  elderly: 'ğŸ‘´',
  teacher: 'ğŸ‘¨â€ğŸ«',
  student: 'ğŸ§‘â€ğŸ“',
  music: 'ğŸµ',
  note: 'ğŸ¶',
  trumpet: 'ğŸº',
  drum: 'ğŸ¥',
  guitar: 'ğŸ¸',
  piano: 'ğŸ¹',
  bell: 'ğŸ””',
  earth: 'ğŸŒ',
  globe: 'ğŸŒ',
  world: 'ğŸ—ºï¸',
  compass: 'ğŸ§­',
  anchor: 'âš“',
  ship: 'ğŸš¢',
  airplane: 'âœˆï¸',
  rocket: 'ğŸš€',
  calendar: 'ğŸ“…',
  clock: 'ğŸ•’',
  hourglass: 'â³',
  timer: 'â°',
  watch: 'âŒš',
  phone: 'ğŸ“',
  email: 'ğŸ“§',
  letter: 'âœ‰ï¸',
  pencil: 'âœï¸',
  pen: 'ğŸ–Šï¸',
  paper: 'ğŸ“„',
  notebook: 'ğŸ““',
  bookmark: 'ğŸ”–',
  magnifying: 'ğŸ”',
  telescope: 'ğŸ”­',
  microscope: 'ğŸ”¬',
  bulb: 'ğŸ’¡',
  battery: 'ğŸ”‹',
  plug: 'ğŸ”Œ',
  gear: 'âš™ï¸',
  hammer: 'ğŸ”¨',
  wrench: 'ğŸ”§',
  shield: 'ğŸ›¡ï¸',
  sword: 'âš”ï¸',
  bow: 'ğŸ¹',
  target: 'ğŸ¯',
  scales: 'âš–ï¸',
  gavel: 'âš–ï¸',
}

// Emoji extension for marked
export const emojiExtension = {
  name: 'emoji',
  level: 'inline' as const,
  start(src: string) {
    return src.indexOf(':')
  },
  tokenizer(src: string) {
    const rule = /^:(\w+):/
    const match = rule.exec(src)
    if (match) {
      const emojiName = match[1]
      const emojiChar = emojiMap[emojiName]
      if (emojiChar) {
        return {
          type: 'emoji',
          raw: match[0],
          emoji: emojiName,
          char: emojiChar,
        }
      }
    }
  },
  renderer(token: any) {
    return `<span class="emoji" title=":${token.emoji}:">${token.char}</span>`
  },
}
